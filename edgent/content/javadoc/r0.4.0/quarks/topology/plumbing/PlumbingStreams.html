<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0) on Mon Mar 07 09:03:16 PST 2016 -->
<title>PlumbingStreams (Quarks v0.4.0)</title>
<meta name="date" content="2016-03-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PlumbingStreams (Quarks v0.4.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PlumbingStreams.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?quarks/topology/plumbing/PlumbingStreams.html" target="_top">Frames</a></li>
<li><a href="PlumbingStreams.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="PlumbingStreams" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">quarks.topology.plumbing</div>
<h2 title="Class PlumbingStreams" class="title" id="Header1">Class PlumbingStreams</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>quarks.topology.plumbing.PlumbingStreams</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PlumbingStreams</span>
extends java.lang.Object</pre>
<div class="block">Plumbing utilities for <a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology"><code>TStream</code></a>.
 Methods that manipulate the flow of tuples in a streaming topology,
 but are not part of the logic of the application.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../quarks/topology/plumbing/PlumbingStreams.html#PlumbingStreams--">PlumbingStreams</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../quarks/topology/plumbing/PlumbingStreams.html#blockingDelay-quarks.topology.TStream-long-java.util.concurrent.TimeUnit-">blockingDelay</a></span>(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
             long&nbsp;delay,
             java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Insert a blocking delay between tuples.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../quarks/topology/plumbing/PlumbingStreams.html#blockingOneShotDelay-quarks.topology.TStream-long-java.util.concurrent.TimeUnit-">blockingOneShotDelay</a></span>(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                    long&nbsp;delay,
                    java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Insert a blocking delay before forwarding the first tuple and
 no delay for subsequent tuples.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../quarks/topology/plumbing/PlumbingStreams.html#blockingThrottle-quarks.topology.TStream-long-java.util.concurrent.TimeUnit-">blockingThrottle</a></span>(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                long&nbsp;delay,
                java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Maintain a constant blocking delay between tuples.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../quarks/topology/plumbing/PlumbingStreams.html#isolate-quarks.topology.TStream-boolean-">isolate</a></span>(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
       boolean&nbsp;ordered)</code>
<div class="block">Isolate upstream processing from downstream processing.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;T,K&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../quarks/topology/plumbing/PlumbingStreams.html#pressureReliever-quarks.topology.TStream-quarks.function.Function-int-">pressureReliever</a></span>(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                <a href="../../../quarks/function/Function.html" title="interface in quarks.function">Function</a>&lt;T,K&gt;&nbsp;keyFunction,
                int&nbsp;count)</code>
<div class="block">Relieve pressure on upstream processing by discarding tuples.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PlumbingStreams--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PlumbingStreams</h4>
<pre>public&nbsp;PlumbingStreams()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="blockingDelay-quarks.topology.TStream-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockingDelay</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;blockingDelay(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                                           long&nbsp;delay,
                                           java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Insert a blocking delay between tuples.
 Returned stream is the input stream delayed by <code>delay</code>.
 <p>
 Delays less than 1msec are translated to a 0 delay.
 <p>
 This function always adds the <code>delay</code> amount after receiving
 a tuple before forwarding it.  
 <p>
 Downstream tuple processing delays will affect
 the overall delay of a subsequent tuple.
 <p>
 e.g., the input stream contains two tuples t1 and t2 and
 the delay is 100ms.  The forwarding of t1 is delayed by 100ms.
 Then if a downstream processing delay of 80ms occurs, this function
 receives t2 80ms after it forwarded t1 and it will delay another
 100ms before forwarding t2.  Hence the overall delay between forwarding
 t1 and t2 is 180ms.
 See <a href="../../../quarks/topology/plumbing/PlumbingStreams.html#blockingThrottle-long-java.util.concurrent.TimeUnit-"><code>blockingThrottle</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - Stream t</dd>
<dd><code>delay</code> - Amount of time to delay a tuple.</dd>
<dd><code>unit</code> - Time unit for <code>delay</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Stream that will be delayed.</dd>
</dl>
</li>
</ul>
<a name="blockingThrottle-quarks.topology.TStream-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockingThrottle</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;blockingThrottle(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                                              long&nbsp;delay,
                                              java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Maintain a constant blocking delay between tuples.
 The returned stream is the input stream throttled by <code>delay</code>.
 <p>
 Delays less than 1msec are translated to a 0 delay.
 <p>
 Sample use:
 <pre><code>
 TStream&lt;String&gt; stream = topology.strings("a", "b, "c");
 // Create a stream with tuples throttled to 1 second intervals.
 TStream&lt;String&gt; throttledStream = blockingThrottle(stream, 1, TimeUnit.SECOND);
 // print out the throttled tuples as they arrive
 throttledStream.peek(t -&gt; System.out.println(new Date() + " - " + t));
 </code></pre>
 <p>
 The function adjusts for downstream processing delays.
 The first tuple is not delayed.  If <code>delay</code> has already
 elapsed since the prior tuple was forwarded, the tuple 
 is forwarded immediately.
 Otherwise, forwarding the tuple is delayed to achieve
 a <code>delay</code> amount since forwarding the prior tuple.
 <p>
 e.g., the input stream contains two tuples t1 and t2 and
 the delay is 100ms.  The forwarding of t1 is delayed by 100ms.
 Then if a downstream processing delay of 80ms occurs, this function
 receives t2 80ms after it forwarded t1 and it will only delay another
 20ms (100ms - 80ms) before forwarding t2.  
 Hence the overall delay between forwarding t1 and t2 remains 100ms.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - tuple type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - the stream to throttle</dd>
<dd><code>delay</code> - Amount of time to delay a tuple.</dd>
<dd><code>unit</code> - Time unit for <code>delay</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the throttled stream</dd>
</dl>
</li>
</ul>
<a name="blockingOneShotDelay-quarks.topology.TStream-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockingOneShotDelay</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;blockingOneShotDelay(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                                                  long&nbsp;delay,
                                                  java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Insert a blocking delay before forwarding the first tuple and
 no delay for subsequent tuples.
 <p>
 Delays less than 1msec are translated to a 0 delay.
 <p>
 Sample use:
 <pre><code>
 TStream&lt;String&gt; stream = topology.strings("a", "b, "c");
 // create a stream where the first tuple is delayed by 5 seconds. 
 TStream&lt;String&gt; oneShotDelayedStream =
      stream.map( blockingOneShotDelay(5, TimeUnit.SECONDS) );
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - tuple type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - input stream</dd>
<dd><code>delay</code> - Amount of time to delay a tuple.</dd>
<dd><code>unit</code> - Time unit for <code>delay</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the delayed stream</dd>
</dl>
</li>
</ul>
<a name="pressureReliever-quarks.topology.TStream-quarks.function.Function-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pressureReliever</h4>
<pre>public static&nbsp;&lt;T,K&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;pressureReliever(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                                                <a href="../../../quarks/function/Function.html" title="interface in quarks.function">Function</a>&lt;T,K&gt;&nbsp;keyFunction,
                                                int&nbsp;count)</pre>
<div class="block">Relieve pressure on upstream processing by discarding tuples.
 This method ensures that upstream processing is not
 constrained by any delay in downstream processing,
 for example by a connector not being able to connect
 to its external system.
 <P>
 Any downstream processing of the returned stream is isolated
 from <code>stream</code> so that any slow down does not affect <code>stream</code>.
 When the downstream processing cannot keep up with rate of
 <code>stream</code> tuples will be dropped from returned stream.
 <BR>
 Up to <code>count</code> of the most recent tuples per key from <code>stream</code>
 are maintained when downstream processing is slow, any older tuples
 that have not been submitted to the returned stream will be discarded.
 <BR>
 Tuple order is maintained within a partition but is not guaranteed to
 be maintained across partitions.
 </P></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Tuple type.</dd>
<dd><code>K</code> - Key type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - Stream to be isolated from downstream processing.</dd>
<dd><code>keyFunction</code> - Function defining the key of each tuple.</dd>
<dd><code>count</code> - Maximum number of tuples to maintain when downstream processing is backing up.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Stream that is isolated from and thus relieves pressure on <code>stream</code>.</dd>
</dl>
</li>
</ul>
<a name="isolate-quarks.topology.TStream-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isolate</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;isolate(<a href="../../../quarks/topology/TStream.html" title="interface in quarks.topology">TStream</a>&lt;T&gt;&nbsp;stream,
                                     boolean&nbsp;ordered)</pre>
<div class="block">Isolate upstream processing from downstream processing.
 <BR>
 Implementations may throw <code>OutOfMemoryExceptions</code> 
 if the processing against returned stream cannot keep up
 with the arrival rate of tuples on <code>stream</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - Stream to be isolated from downstream processing.</dd>
<dd><code>ordered</code> - <code>true</code> to maintain arrival order on the returned stream,
 <code>false</code> to not guaranteed arrival order.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Stream that is isolated from <code>stream</code>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PlumbingStreams.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a href="http://quarks-edge.github.io">quarks-edge community @ github.com</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?quarks/topology/plumbing/PlumbingStreams.html" target="_top">Frames</a></li>
<li><a href="PlumbingStreams.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small>Copyright IBM 2015,2016 - 2f6ad0e-20160307-0902</small></p>
</body>
</html>
